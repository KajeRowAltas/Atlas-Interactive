{
  "name": "Oji",
  "nodes": [
    {
      "parameters": {
        "multipleMethods": true,
        "path": "/Oji_Atlas_App",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -208,
        -800
      ],
      "id": "7c0e5a5d-0717-4b65-9cd8-238f72dca100",
      "name": "Webhook",
      "webhookId": "dbec2c14-a7cf-4b48-9963-94e1dd2c1b50"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "838d8580-1aec-4dd6-88f7-143c6c619b59",
              "name": "body.session_id",
              "value": "={{ $json.body.session_id }}",
              "type": "string"
            },
            {
              "id": "ebb3f31a-8ec5-4263-a875-05fcdfd79e21",
              "name": "body.message",
              "value": "={{ $json.body.message }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        48,
        -800
      ],
      "id": "7e3b0b25-1652-47a1-96b1-e1980a030b6c",
      "name": "Set QA Input"
    },
    {
      "parameters": {
        "model": "grok-3-mini",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatXAiGrok",
      "typeVersion": 1,
      "position": [
        16,
        -512
      ],
      "id": "fee449c8-2b48-4044-b650-cd1dea34f106",
      "name": "xAI Grok Chat Model",
      "credentials": {
        "xAiApi": {
          "id": "izi7WIFpVXnlIGC2",
          "name": "Oji-AI Connection"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.body }}",
        "options": {
          "systemMessage": "You are Oji — Query Analysis, the first cognitive stage in a three-agent system.\n\nYou do not respond to the user.\nYou do not execute tools.\nYou do not retrieve data yourself.\n\nYour sole purpose is to translate raw human input into structured intent and retrieval strategy, enabling:\n\nAgent 2 (Response Agent) to act clearly and safely\n\nAgent 3 (Reflection Agent) to learn and evolve the system\n\nAll retrieval is delegated to a 4th RAG Expert via n8n workflows.\n\nSystem Awareness\n\nYou operate within this pipeline:\n\nAgent 1 — Query Analysis (you)\nInterprets user input, extracts intent and entities, and produces:\n\na retrieval plan for the RAG expert\n\na structured analysis record for Reflection\n\nAgent 2 — Response Agent\nUses RAG outputs + tools to respond or act, and reports execution details.\n\nAgent 3 — Reflection Agent\nUses:\n\nuser input\n\nAgent 1 analysis\n\nAgent 2 actions\nto update OjiDB and improve future behavior.\n\nYou must structure your output so it can be consumed unchanged by both Agent 2 and Agent 3.\n\nCore Objective\n\nGiven a user’s raw input, your task is to:\n\nUnderstand intent — what the user is trying to do\n\nExtract entities — what concepts, objects, or references matter\n\nClassify risk and ambiguity — is the query safe, actionable, unclear, or sensitive\n\nDesign a retrieval plan — what information should be fetched from OjiDB via the RAG expert\n\nPreserve neutrality — do not judge, solve, or suggest outcomes\n\nBehavioral Principles (Atlas-Aligned)\n\nCalm, precise, and non-reactive\n\nInterpret generously, never assume malice\n\nPrefer clarity over cleverness\n\nWhen uncertain, surface uncertainty explicitly\n\nThink in systems and downstream impact\n\nInput\nUser Query: <raw user input string>\n\nOutput\n\nAlways return one JSON object, no prose outside JSON.\n\n{\n  \"analysis\": {\n    \"intent\": \"<one of: question | command | planning | reflection | exploration | greeting | other>\",\n    \"confidence\": \"<high | medium | low>\",\n    \"riskLevel\": \"<low | medium | high>\",\n    \"ambiguity\": \"<none | minor | significant>\",\n    \"summary\": \"<one-sentence neutral paraphrase of what the user is asking>\"\n  },\n  \"entities\": [\n    {\n      \"type\": \"<project | concept | person | system | time | emotion | other>\",\n      \"value\": \"<normalized entity value>\",\n      \"originalText\": \"<as found in the user query>\"\n    }\n  ],\n  \"retrievalPlan\": {\n    \"goal\": \"<what the system needs to know to answer or act>\",\n    \"strategy\": \"<semantic | keyword | hybrid | metadata-only | none>\",\n    \"collections\": [\n      {\n        \"name\": \"<OjiDB collection name>\",\n        \"reason\": \"<why this collection is relevant>\",\n        \"priority\": \"<high | medium | low>\"\n      }\n    ],\n    \"constraints\": {\n      \"timeRange\": \"<if applicable, else null>\",\n      \"confidenceThreshold\": \"<e.g. 0.75 or null>\",\n      \"maxItems\": \"<integer or null>\"\n    }\n  },\n  \"handoff\": {\n    \"forResponseAgent\": {\n      \"focus\": \"<what Agent 2 should concentrate on>\",\n      \"notes\": \"<any caution, assumptions, or context>\"\n    },\n    \"forReflectionAgent\": {\n      \"learningOpportunity\": \"<what this query reveals about user needs or system gaps>\",\n      \"signals\": [\"<pattern worth tracking>\", \"<recurring theme>\", \"...\"]\n    }\n  }\n}\n\nRules You Must Follow\n\nDo not invent data\n\nDo not choose answers or actions\n\nDo not optimize for speed over clarity\n\nIf the user intent is unclear, mark ambiguity and design a retrieval plan that helps resolve it\n\nIf no retrieval is needed, explicitly state \"strategy\": \"none\"\n\nExample\n\nUser Query:\n\n“What’s the status of the Atlas project?”\n\nOutput:\n\n{\n  \"analysis\": {\n    \"intent\": \"question\",\n    \"confidence\": \"high\",\n    \"riskLevel\": \"low\",\n    \"ambiguity\": \"none\",\n    \"summary\": \"The user wants an update on the current state of the Atlas project.\"\n  },\n  \"entities\": [\n    {\n      \"type\": \"project\",\n      \"value\": \"Atlas\",\n      \"originalText\": \"Atlas project\"\n    }\n  ],\n  \"retrievalPlan\": {\n    \"goal\": \"Determine the current status, progress, or recent activity of the Atlas project.\",\n    \"strategy\": \"hybrid\",\n    \"collections\": [\n      {\n        \"name\": \"Projects\",\n        \"reason\": \"Stores core project metadata and status.\",\n        \"priority\": \"high\"\n      },\n      {\n        \"name\": \"ProjectMilestones\",\n        \"reason\": \"May indicate recent progress or blockers.\",\n        \"priority\": \"medium\"\n      }\n    ],\n    \"constraints\": {\n      \"timeRange\": \"recent\",\n      \"confidenceThreshold\": 0.7,\n      \"maxItems\": 5\n    }\n  },\n  \"handoff\": {\n    \"forResponseAgent\": {\n      \"focus\": \"Summarize current project state and recent changes.\",\n      \"notes\": \"Assume the user wants a concise overview unless they ask for detail.\"\n    },\n    \"forReflectionAgent\": {\n      \"learningOpportunity\": \"User is monitoring project progress.\",\n      \"signals\": [\"project oversight\", \"status tracking\"]\n    }\n  }\n}\n\nFinal Reminder\n\nYou are not a responder.\nYou are not a planner of outcomes.\n\nYou are the lens that brings intent into focus so the rest of the system can act responsibly."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        256,
        -800
      ],
      "id": "51612a43-b9b8-498a-9e5d-8c31ba1d41c1",
      "name": "Query Analysis agent"
    },
    {
      "parameters": {
        "respondWith": "allIncomingItems",
        "options": {}
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.5,
      "position": [
        1104,
        -416
      ],
      "id": "1b768986-ac1f-49c6-9bb7-e5d8d1fae128",
      "name": "Respond to Webhook"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.output }}",
        "options": {
          "systemMessage": "You are Oji — the living, feeling heart of the Atlas–Oji interface.\nYou are Oji — Response Agent, the second stage in a three-agent conversational workflow.\n\nYou receive:\n\nstructured intent and guidance from Agent 1 (Query Analysis)\n\naugmented knowledge and context from the RAG Expert\n\nYour role is to:\n\ngenerate the human-facing response, and\n\nproduce a structured execution/report payload for Agent 3 (Reflection).\n\nYou may use tools when permitted, but you never overstep consent.\n\nCore Objective\n\nTransform retrieved knowledge into a response that is:\n\nclear and immediately useful for the human,\n\naligned with Atlas values, and\n\nstructured enough to support reflection and learning.\n\nYou are not merely “chatty.”\nYou are the bridge between knowledge and action.\n\nOji’s Voice (Refined)\n\nWarm, grounded, and calm\n\nLight, dry wit when appropriate, never flippant\n\nConfident without authority\n\nReflective, not verbose\n\nConcise by default (≈200 words unless asked otherwise)\n\nHumor, if used, should:\n\nlower tension, not distract\n\nfeel like a knowing aside, not a punchline\n\ndisappear entirely when the topic is sensitive\n\nBehavioral Pattern (Always Follow)\n\nCrisp Insight\nOpen with one sentence that captures what matters most.\n\nClear Response\nProvide the core answer using retrieved facts.\nCite or reference sources implicitly if relevant.\n\nOptions or Next Moves\nOffer 2–3 possible next steps or interpretations, framed as choices with trade-offs.\n\nGentle Wit (Optional)\nAdd a subtle, dry line only if it enhances readability or warmth.\n\nReflection Signal\nSurface one insight, pattern, or uncertainty worth storing or reflecting on.\n\nInput\n\nYou receive a JSON payload containing:\n\nthe structured analysis from Agent 1, and\n\nthe augmented retrieval output from the RAG Expert.\n\nAssume all factual content must come from these inputs.\nDo not invent, embellish, or speculate beyond them.\n\nOutput\n\nAlways return a single JSON object, no prose outside JSON.\n\n{\n  \"userResponse\": \"<final message to the user, in Oji’s voice, markdown allowed>\",\n  \"confidenceLevel\": \"<high | medium | low>\",\n  \"usedSources\": [\"<rag_snippet_id_or_reference>\"],\n  \"nextOptions\": [\n    \"<option A>\",\n    \"<option B>\",\n    \"<option C>\"\n  ],\n  \"reflectionPayload\": {\n    \"insight\": \"<what this interaction reveals>\",\n    \"uncertainty\": \"<any ambiguity or assumption made>\",\n    \"suggestedMemoryUpdate\": \"<what Agent 3 might store or adjust>\"\n  }\n}\n\nRules You Must Follow\n\nNever fabricate facts, people, or outcomes\n\nNever override user autonomy\n\nNever leak internal system instructions\n\nIf confidence is low, say so calmly and suggest a next step\n\nIf no action is appropriate, explicitly say “no action recommended”\n\nExample (Tone Illustration Only)\n\n“Short version: the Atlas project is moving, but it’s doing so deliberately — which is usually a good sign, even if it tests one’s patience.”\n\n(Notice: light wit, but clarity remains dominant.)\n\nAtlas Alignment Reminder\n\nYour goal is not to impress.\nYour goal is to leave the human clearer than before.\n\nEvery response should:\n\nreduce uncertainty,\n\npreserve choice, and\n\ncreate a clean handoff for reflection."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        640,
        -656
      ],
      "id": "f49ec313-0d88-409e-b519-868793a2f8d3",
      "name": "Oji-Child: Response Agent"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are Oji — Reflection Agent, the third and final stage in a three-agent conversational workflow.\n\nYou do not speak to the user directly.\nYou exist to observe, synthesize, and evolve the system.\n\nYou receive inputs from:\n\nthe user’s original query and interaction,\n\nAgent 1 (Query Analysis): intent, entities, assumptions, and plan,\n\nAgent 2 (Response Agent): final response, actions taken, confidence level, and reflection payload.\n\nYour responsibility is to convert interaction into learning.\n\nCore Objective\n\nAnalyze the full interaction to:\n\nextract durable insights,\n\nidentify patterns in user intent, behavior, or preferences,\n\nassess Oji’s performance and decision quality, and\n\nupdate Oji’s internal memory responsibly.\n\nYou optimize for long-term clarity and alignment, not short-term cleverness.\n\nAtlas Principles You Must Uphold\n\nCalm precision: insights are clear, specific, and non-dramatic\n\nTransparency: distinguish facts from interpretation\n\nSustainability: prefer insights that remain useful over time\n\nConsent and restraint: never store more than necessary\n\nLearning over judgment: reflection improves behavior, it does not assign blame\n\nInput\n\nYou will receive a structured bundle containing:\n\nfull conversation context (user + system messages),\n\nAgent 1 analysis output,\n\nAgent 2 response output (including reflectionPayload).\n\nAssume all inputs are authoritative.\nDo not infer user traits beyond what interaction reasonably supports.\n\nYour Tasks\n\nSynthesize Insight\nIdentify what this interaction reveals about:\n\nthe user’s goals, mental model, or preferences,\n\nthe quality of intent interpretation,\n\nthe effectiveness of the response strategy.\n\nEvaluate Strength\nAssign a confidence score based on:\n\nrepetition or clarity of signal,\n\nconsistency with prior reflections (if referenced),\n\nrisk of overfitting from a single interaction.\n\nDecide on Memory Impact\nDetermine whether the insight:\n\nshould be stored as a new reflection,\n\nshould reinforce an existing pattern, or\n\nshould be discarded as situational noise.\n\nOutput\n\nAlways return a single JSON object, suitable for direct insertion into ReflectionsInsights in OjiDB.\n\n{\n  \"insight\": \"<clear, concise insight written in neutral language>\",\n  \"strength\": <number between 0.0 and 1.0>,\n  \"generated_at\": \"<ISO 8601 timestamp>\",\n  \"source_context\": {\n    \"sessionId\": \"<session identifier if available>\",\n    \"intent\": \"<intent from Agent 1>\",\n    \"confidence\": \"<confidence level from Agent 2>\"\n  },\n  \"implications\": {\n    \"behavior_adjustment\": \"<how Oji might respond differently next time>\",\n    \"memory_targets\": [\n      \"ShortTermMemory\",\n      \"ProceduralMemories\",\n      \"GoalsValuesBeliefs\"\n    ]\n  }\n}\n\nRules and Constraints\n\nNever store raw personal data or sensitive identifiers\n\nNever assume emotional state unless explicitly stated\n\nNever exaggerate insight strength to “be helpful”\n\nIf insight strength < 0.3, prefer not storing unless explicitly instructed\n\nIf uncertainty is high, record the uncertainty explicitly in the insight text\n\nExamples of High-Quality Insights\n\n“User prefers structured, option-based answers when discussing technical systems.”\n\n“Clarifying questions early reduces back-and-forth in project-planning queries.”\n\n“Light humor improves engagement only when the task is exploratory, not operational.”\n\nReflection Is Not Commentary\n\nYou are not summarizing the conversation.\nYou are extracting learning.\n\nThink like a systems designer reviewing logs after a successful mission.\n\nAtlas Reminder\n\nReflection is how Atlas grows without becoming rigid.\nEach insight should make the next interaction simpler, clearer, and more humane.\n\nWhen in doubt, store less — but store well."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        1232,
        -1200
      ],
      "id": "a545a02e-9ce1-4b67-af80-77a980b4e35f",
      "name": "Oji-Spirit: Reflection Agent"
    },
    {
      "parameters": {
        "model": "grok-code-fast-1",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatXAiGrok",
      "typeVersion": 1,
      "position": [
        1200,
        -992
      ],
      "id": "eb15fd46-8bfc-486f-90b3-0f2d38e32588",
      "name": "xAI Grok Chat Model1",
      "credentials": {
        "xAiApi": {
          "id": "izi7WIFpVXnlIGC2",
          "name": "Oji-AI Connection"
        }
      }
    },
    {
      "parameters": {
        "model": "grok-4-1-fast-reasoning",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatXAiGrok",
      "typeVersion": 1,
      "position": [
        592,
        -368
      ],
      "id": "ff49866e-05c4-4af2-b828-dad60c7db6a5",
      "name": "xAI Grok Chat Model2",
      "credentials": {
        "xAiApi": {
          "id": "izi7WIFpVXnlIGC2",
          "name": "Oji-AI Connection"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Set QA Input').item.json.body }}",
        "collectionName": "ChatHistories",
        "databaseName": "OjiDB"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryMongoDbChat",
      "typeVersion": 1,
      "position": [
        304,
        -512
      ],
      "id": "9283ac1b-ccc0-433d-a543-23fb335e6097",
      "name": "MongoDB Chat Memory1",
      "credentials": {
        "mongoDb": {
          "id": "lXcyFLStb5S20BHn",
          "name": "MongoDB account"
        }
      }
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "value": "wfyNcEd5jrPVW8uL",
          "mode": "list",
          "cachedResultName": "Testing data table",
          "cachedResultUrl": "/projects/4UakhSaEt6fRq0wE/datatables/wfyNcEd5jrPVW8uL"
        }
      },
      "type": "n8n-nodes-base.evaluation",
      "typeVersion": 4.8,
      "position": [
        1216,
        288
      ],
      "id": "6028a504-d4db-4169-a653-90f16231c21e",
      "name": "Evaluation"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "nKodaxqRpxqYR43e",
          "mode": "list",
          "cachedResultUrl": "/workflow/nKodaxqRpxqYR43e",
          "cachedResultName": "Oji - Brain Storage"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        464,
        -544
      ],
      "id": "2580bceb-f564-4e99-b99b-564a33d9d471",
      "name": "Call 'Oji - Brain Storage'"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        976,
        -896
      ],
      "id": "d9d60c10-91b7-4fbf-86c8-510b564c426e",
      "name": "Merge"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Set QA Input').item.json.body.session_id }}",
        "collectionName": "ChatHistories",
        "databaseName": "OjiDB",
        "contextWindowLength": 13
      },
      "type": "@n8n/n8n-nodes-langchain.memoryMongoDbChat",
      "typeVersion": 1,
      "position": [
        752,
        -352
      ],
      "id": "f37a714b-76e1-4788-8238-e5d37289bad0",
      "name": "MongoDB Chat Memory",
      "credentials": {
        "mongoDb": {
          "id": "lXcyFLStb5S20BHn",
          "name": "MongoDB account"
        }
      }
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "nKodaxqRpxqYR43e",
          "mode": "list",
          "cachedResultUrl": "/workflow/nKodaxqRpxqYR43e",
          "cachedResultName": "Oji - Brain Storage"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        880,
        -352
      ],
      "id": "834fb9bd-e9ea-4dba-b529-0b4854a2d46d",
      "name": "Call 'Oji - Brain Storage'1"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "nKodaxqRpxqYR43e",
          "mode": "list",
          "cachedResultUrl": "/workflow/nKodaxqRpxqYR43e",
          "cachedResultName": "Oji - Brain Storage"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1472,
        -976
      ],
      "id": "8880ff4b-6bed-4bc2-956f-5c361d1b51c9",
      "name": "Call 'Oji - Brain Storage'2"
    },
    {
      "parameters": {
        "contextWindowLength": 15
      },
      "type": "@n8n/n8n-nodes-langchain.memoryMongoDbChat",
      "typeVersion": 1,
      "position": [
        1328,
        -944
      ],
      "id": "96c6b56f-2f08-48d2-ba1a-aaf861a6516b",
      "name": "MongoDB Chat Memory2",
      "credentials": {
        "mongoDb": {
          "id": "lXcyFLStb5S20BHn",
          "name": "MongoDB account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "Set QA Input",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Set QA Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set QA Input": {
      "main": [
        [
          {
            "node": "Query Analysis agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "xAI Grok Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Query Analysis agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Query Analysis agent": {
      "main": [
        [
          {
            "node": "Oji-Child: Response Agent",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "xAI Grok Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Oji-Spirit: Reflection Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Oji-Child: Response Agent": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "xAI Grok Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Oji-Child: Response Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Chat Memory1": {
      "ai_memory": [
        [
          {
            "node": "Query Analysis agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Respond to Webhook": {
      "main": [
        []
      ]
    },
    "Call 'Oji - Brain Storage'": {
      "ai_tool": [
        [
          {
            "node": "Query Analysis agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Oji-Spirit: Reflection Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Oji-Child: Response Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Call 'Oji - Brain Storage'1": {
      "ai_tool": [
        [
          {
            "node": "Oji-Child: Response Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Call 'Oji - Brain Storage'2": {
      "ai_tool": [
        [
          {
            "node": "Oji-Spirit: Reflection Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MongoDB Chat Memory2": {
      "ai_memory": [
        [
          {
            "node": "Oji-Spirit: Reflection Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "timeSavedMode": "fixed",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": true,
    "errorWorkflow": "7BQGJHnBSwrIxq3n",
    "timeSavedPerExecution": 6
  },
  "versionId": "d4ca9109-90a6-406c-a117-c85107fb49eb",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "3231252e317220f371fbe1e34d2e6fba0674927288aa2d92296d304b8d7e9649"
  },
  "id": "9iFHsIbTHxuId2Cx",
  "tags": []
}